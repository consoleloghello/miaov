# 编译原理
#### 编译型语言(complied language)
编译型语言的首先将源代码编译生成机器语言, 再由机器运行机器语言

编译过程
解释执行

## JavaScript的编译步骤
### 分词/词法分析

### 解析/语法分析

### 代码生成

## 作用域
解释、执行过程
* 引擎
负责编译(词法分析)、执行编译后生成的代码
* 编译器
负责编译(语法分析)、编译(代码生成)
* 作用域
负责收集所有声明的标识符(变量), 并且维护一套管理变量的规则
``` js
var a = 2;
/*
1. 引擎执行编译的第一步(词法分析)
2. 引擎调用编译器, 编译器进行编译的语法分析和代码生成
  a. 编译器遇到var a ; 去当前的作用域集合中查找是否存在a这个变量
  b. 如果存在, 则忽略变量声明
  c. 如果不存在, 则在作用域中声明一个新的变量, 命名为a
  d. 生成引擎运行所需代码
3. 引擎运行生成的代码
  a. 去当前作用域中查找是否存在a变量, 如果找不到这个变量, 他会继续往上(他的上一层作用域)寻找
  b. 如果存在,会使用这个变量, 并为这个变量赋值
  c. 如果不存在, 会抛出一个异常或者创建一个变量(LHS查找、 RHS查找)
 */
 */

# LHS
取得变量的源地址, 用于为该变量赋值  L--左(left)
# RHS
查询得到变量的值, 一般用于为其他变量赋值  R--右(right)
```

# 预解析
在当前作用域下,在js代码执行之前, 浏览器会对带var 、带function的进行提前声明或定义

* var
只声明不定义; 告诉浏览器, 有这么一个变量, 但是并没有赋值
* function
声明 + 定义; 不仅告诉浏览器, 有这么一个变量, 而且对变量进行了赋值

* function fn(){} ()
    定义一个函数想要立即执行，写成如下形式是不可行的，
    在预解释的时候，它把它分解成两部分来对待，
    第一部分是fn函数，而第二部分是(),一个匿名函数，执行时会报错。
    如果小括号带参数，如(2)，虽然不会报错，会打印出来2，但并不能把fn执行，也不能当成参数传递给fn函数

* (function(){}())
    如果你想实现立即执行的函数，可以把要执行的函数放到一对括号里面，
    对于JavaScript 来说，括弧()里面不能包含语句，所以在这一点上，
    解析器在解析function关键字的时候，会将相应的代码解析成function表达式，而不是function声明所以，只要将大括号将代码(包括函数部分和在后面加上一对大括号)全部括起来就可以了

* (function(){})()
    闭包
# 作用域链

# 函数定义的三步骤
* 开辟一个空间地址
* 把函数体所有JS代码作为字符串放在这个空间中
* 把空间地址赋值给函数名

# 函数执行四步骤
* 形成一个私有作用域
* 形参赋值
* 预解析
* 代码从上到下的执行

## 预解析需要注意的情况
预解析是发生在当前作用域下的，刚开始的时候，我们预解析的是全局作用域，在js中我们的global就是我们的window。
我们运行函数的时候会生成一个新的私有作用域（每次执行都是新的，执行完成就销毁）这个作用域下我们可以理解为开辟了一个新的内存空间。在这个内存中我们也要执行预解析。当我们的函数执行完成后，这个内存或者作用域就会销毁
如果在当前作用域下的一个变量没有预解析，就会向它的上一级去找，直到找到window，如果window下也没有定义，就会报错。所以，在函数内通过var定义的变量是局部变量，没有能过var 定义的变量是全局变量。
预解析不会在同一个变量上重复的发生，也就是一个变量如果已经在当前作用域下预解析了，不会再重复解析。
等号右边的function不会进行预解析。
alert(a);
fn();
var a = function fn(){};
第一次打印undefined，第二次报错，未定义，因为预解析的时候，=号右边是不进行预解析的。

预解释是不受其它if或者其它判断条件影响的，也就是说，即使条件不成立，我们里面只要有var或者function也会被预解释。if,while
alert(a); //undefined
if(1==2){
　　var a=12;
}
后面定义的会覆盖前面定义的
alert(a); //弹出后面的function
function a(){
    var b;
}
alert(a); //仍然弹出后面的function，因为function是提前预解析的
function a(){
    var c;
}
JavaScript“预解析”是分段进行的，准确说是分<script>块进行的。
